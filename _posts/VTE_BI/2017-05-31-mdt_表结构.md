---
layout: life
title: mdt表结构
category: VTE_BI
duoshuo: true
date: 2017-05-31
---

******

	作者: minus
	版本: V 0.0.1
	日期: 2017年05月31日

<!-- more -->

*******

### <font color="blue" style="font-weight:bold">MDT</font>

#### MDT介绍
```
简称 "multiple disciplinary team"，即多学科协作，多学科诊疗模式（简称MDT）源于上世纪90年代，美国率先提出这个概念，即由来自普外科、肿瘤内科、放疗科、放射科、病理科、内镜中心等科室专家组成工作组，针对某一疾病，通过定期会议形式，提出适合患者的最佳治疗方案，继而由相关学科单独或多学科联合执行该治疗方案。
```

### 自定义类型
1. DIC_TYPE
```
fullid : character varying(2048),
value  : character varying(1024)
```
2. KV_TYPE
```
code  : character varying(100),
type  : character varying(1000),
value : character varying(1000)
```
3. TERM_TYPE
```
id      : bigint,
version : integer,
name    : character varying(1000),
code    : character varying(100)
```
4. ENUM: rw
```
0: rw
1: r
2: w
3: null
```

#### Table: com_dictionary
```
主要用于存放静态字典（基本不用更改）
```

| 字段名                      | 类型      　　　   | 主键      |     含义　　 | 备注 |
| -------------              |:-------------:   | :-----:  |  :----:     |:----:|
| 1. code                    | Integer          |  Y       |  层级内编号  |      | 
| 2. dicversion              | Integer          |  Y       |  控制版本编号|      |
| 3. name                    | Varchar(1000)    |  Y       |  字典名(层级)|      |
| 4. availability            | Varchar(255)     |  N       |  具有可用性? |      |
| 5. comments                | Varchar(255)     |  N       |  评论注释    |      |
| 6. ctime　　　              | Timestamp        |  N       |  创建时间    | createtime     |
| 7. owner                   | Varchar(255)     |  N       |  拥有者      |      |
| 8. scope                   | Varchar(255)     |  N       |  范围　　    |      |
| 9. utime      　　　        | Timestamp        |  N       |  更新时间　 　| updatetime    |
| 10. version                | Integer          |  N       |  版本号      |      |
| 11. full_value             | **DIC_TYPE**     |  N       | id_value组合 |      |
| 12. full_id                | Varchar(255)     |  N       | 　全id      |      |
| 13. ifvalue                | Boolean          |  N       | 是否是值?    |      |
| 14. orderno                | Integer          |  N       | 排序编号     |      |
| 15. rwflag                 | Enum:rw          |  N       | 读写情况　   |      |
| 16. value                  | Varchar(255)     |  N       | 字典值      |      |
| 17. parentdic_code         | Integer          |  N       | 父级code    |      |
| 18. parentdic_dicversion   | Integer          |  N       | 父级的控制版本号|      |
| 19. parentdic_name         | Varchar(1000)    |  N       | 父级的名字   |      |

```
Primary-Key: (code, dicversion, name)
Foreign-Key: (parentdic_code, parentdic_dicversion, parentdic_name) REFERENCES public.com_dictionary (code, dicversion, name)
```

#### Table: com_term
```
主要用于存放　动态字典和问题答案
```

| 字段名                      | 类型      　　　   | 主键      |     含义　　 | 备注 |
| -------------              |:-------------:    | :-----:  |  :----:      |:----:|
| 1. code                    | Integer          |  Y       |      N      |      | 
| 2. dicversion              | Integer          |  Y       |      N      |      |
| 3. name                    | Varchar(1000)    |  Y       |      N      |      |
| 4. availability            | Varchar(255)     |  N       |      N      |      |
| 5. comments                | Varchar(255)     |  N       |      N      |      |
| 6. ctime     　　　         | Timestamp        |  N       |      N      |　createtime  |
| 7. owner                   | Varchar(255)     |  N       |      N      |      |
| 8. scope                   | Varchar(255)     |  N       |      N      |      |
| 9. utime              | Timestamp        |  N       |      N      | updatetime     |
| 10. version                | Integer          |  N       |      N      |      |
| 11. level                  | Integer          |  N       |      N      |      |
| 12. full_value             | **DIC_TYPE**     |  N       |      N      |      |
| 13. full_id                | Varchar(255)     |  N       |      N      |      |
| 14. ifvalue                | Boolean          |  N       |      N      |      |
| 15. orderno                | Integer          |  N       |      N      |      |
| 16. rwflag                 | Enum:rw          |  N       |      N      |      |
| 17. value                  | Varchar(255)     |  N       |      N      |      |
| 18. parentterm_code        | Integer          |  N       |      N      |      |
| 19. parentterm_dicversion  | Integer          |  N       |      N      |      |
| 20. parentterm_name        | Varchar(1000)    |  N       |      N      |      |

```
PRIMARY KEY (code, dicversion, name)
FOREIGN KEY (parentterm_code, parentterm_dicversion, parentterm_name) REFERENCES public.com_term (code, dicversion, name)
```

#### Table: com_org

| 字段名                      | 类型      　　　   | 主键      |     含义　　 | 备注 |
| -------------              |:-------------:    | :-----:  |  :----:      |:----:|
| 1. id                      | Integer          |  Y       |      N      |      | 
| 2. availability            | Varchar(255)     |  N       |      N      |      |
| 3. comments                | Varchar(255)     |  N       |      N      |      |
| 4. ctime             　　　 | Timestamp        |  N       |      N      | createtime|
| 5. owner                   | Varchar(255)     |  N       |      N      |      |
| 6. scope                   | Varchar(255)     |  N       |      N      |      |
| 7. utime             　　　 | Timestamp        |  N       |      N      | updatetime　|
| 8. version                 | Integer          |  N       |      N      |      |

#### Table: followuppatient

| 字段名                      | 含义      　　　   | 主键      |     片键　　 | 备注 |
| -------------              |:-------------:    | :-----:  |  :----:      |:----:|
| 1. id                      | Integer          |  Y       |      N      |      | 
| 2. availability            | Varchar(255)     |  N       |      N      |      |
| 3. comments                | Varchar(255)     |  N       |      N      |      |
| 4. ctime                  | Timestamp        |  N       |      N      | createtime     |
| 5. owner                   | Varchar(255)     |  N       |      N      |      |
| 6. scope                   | Varchar(255)     |  N       |      N      |      |
| 7. utime                   | Timestamp        |  N       |      N      | updatetime |
| 8. version                 | Integer          |  N       |      N      |      |
| 9. count                   | Integer          |  N       |      N      |      |
| 10. isdeath                | Integer          |  N       |      N      |      |
| 11. ddate                  | Timestamp        |  N       |      N      | deathdate     |
| 12. lfdate                 | Timestamp        |  N       |      N      | lastfollowdate  |
| 13. lfmethod               | Integer          |  N       |      N      | lastfollowmethod     |
| 14. isloss                 | Integer          |  N       |      N      |      |
| 15. patientid              | Varchar(64)      |  N       |      N      |      |
| 16. smsstatus              | **DIC_TYPE**     |  N       |      N      |      |
| 17. status                 | Jsonb            |  N       |      N      |      |
| 17. successcount           | Integer          |  N       |      N      |      |
| 17. telestatus             | **DIC_TYPE**     |  N       |      N      |      |
| 17. wechatstatus           | **DIC_TYPE**     |  N       |      N      |      |
| 17. followupproject_id     | Integer          |  N       |      N      |      |

```
FOREIGN KEY (followupproject_id) REFERENCES public.followupproject (id)
```

#### Table: followupproject

| 字段名                      | 类型      　　　   | 主键      |     含义　　 | 备注 |
| -------------              |:-------------:    | :-----:  |  :----:      |:----:|
| 1. id                      | Integer          |  Y       |      N      |      | 
| 2. availability            | Varchar(255)     |  N       |      N      |      |
| 3. comments                | Varchar(255)     |  N       |      N      |      |
| 4. ctime                   | Timestamp        |  N       |      N      | createtime |
| 5. owner                   | Varchar(255)     |  N       |      N      |      |
| 6. scope                   | Varchar(255)     |  N       |      N      |      |
| 7. utime                   | Timestamp        |  N       |      N      | updatetime |
| 8. version                 | Integer          |  N       |      N      |      |
| 9. applicantid             | Varchar(128)     |  N       |      N      |      |
| 10. applicantname          | Varchar(128)     |  N       |      N      |      |
| 11. cate_type              | **DIC_TYPE**     |  N       |      N      |      |
| 12. conditions             | Varchar(2048)    |  N       |      N      |      |
| 13. cycle                  | Integer          |  N       |      N      |      |
| 14. edate                  | Timestamp        |  N       |      N      | enddate     |
| 15. execmethod             | Integer          |  N       |      N      |      |
| 16. fedate                 | Timestamp        |  N       |      N      | filterenddate     |
| 17. fsdate                 | Timestamp        |  N       |      N      | filterstartdate     |
| 18. followername           | Varchar(128)     |  N       |      N      |      |
| 19. followerid             | Varchar(128)     |  N       |      N      |      |
| 20. followup1              | Integer          |  N       |      N      |      |
| 21. followup2              | Integer          |  N       |      N      |      |
| 22. followup3              | Integer          |  N       |      N      |      |
| 23. isfixpatient           | Integer          |  N       |      N      |      |
| 24. name                   | Varchar(128)     |  N       |      N      |      |
| 23. sdate                  | Timestamp        |  N       |      N      | startdate     |
| 23. status_type            | **DIC_TYPE**     |  N       |      N      |      |
| 23. totalcount             | Integer          |  N       |      N      |      |
| 23. questionnaire_id       | Integer          |  N       |      N      |      |
| 23. questionnairestyle_id  | Integer          |  N       |      N      |      |

```
FOREIGN KEY (questionnairestyle_id) REFERENCES public.questionnairestyle (id)
FOREIGN KEY (questionnaire_id) REFERENCES public.questionnaire (id)
```

#### Table: followuprecord

| 字段名                      | 类型      　　　   | 主键      |     含义　　 | 备注 |
| -------------              |:-------------:    | :-----:  |  :----:      |:----:|
| 1. id                      | Integer          |  Y       |      N      |      | 
| 2. availability            | Varchar(255)     |  N       |      N      |      |
| 3. comments                | Varchar(255)     |  N       |      N      |      |
| 4. ctime                   | Timestamp        |  N       |      N      | createtime     |
| 5. owner                   | Varchar(255)     |  N       |      N      |      |
| 6. scope                   | Varchar(255)     |  N       |      N      |      |
| 7. utime                   | Timestamp        |  N       |      N      | updatetime     |
| 8. version                 | Integer          |  N       |      N      |      |
| 9. ddate                   | Timestamp        |  N       |      N      | deathdate     |
| 10. fudate                 | Timestamp        |  N       |      N      | followupdate     |
| 11. fumethod               | Integer          |  N       |      N      | followupmethod     |
| 12. isdeath                | Integer          |  N       |      N      |      |
| 13. isloss                 | Integer          |  N       |      N      |      |
| 14. patientid              | Varchar(64)      |  N       |      N      |      |
| 15. rdate                  | Timestamp        |  N       |      N      | replydate     |
| 16. status                 | Varchar(32)      |  N       |      N      |      |
| 17. url                    | Varchar(255)     |  N       |      N      |      |
| 18. fupatient_id           | Integer          |  N       |      N      | followuppatient_id     |
| 19. questionnaire_id       | Integer          |  N       |      N      |      |
| 20. questionnairestyle_id  | Integer          |  N       |      N      |      |

```
FOREIGN KEY (questionnairestyle_id) REFERENCES public.questionnairestyle (id)
FOREIGN KEY (questionnaire_id) REFERENCES public.questionnaire (id)
FOREIGN KEY (followuppatient_id) REFERENCES public.followuppatient (id)
```

#### Table: question

| 字段名                      | 类型      　　　   | 主键      |     含义　　 | 备注 |
| -------------              |:-------------:    | :-----:  |  :----:      |:----:|
| 1. que_id                  | Integer          |  Y       |      N      |      | 
| 2. que_version             | Integer          |  Y       |      N      |      |
| 3. availability            | Varchar(255)     |  N       |      N      |      |
| 4. comments                | Varchar(255)     |  N       |      N      |      |
| 5. ctime              | Timestamp        |  N       |      N      | createtime   |
| 6. owner                   | Varchar(255)     |  N       |      N      |      |
| 7. scope                   | Varchar(255)     |  N       |      N      |      |
| 8. utime              | Timestamp        |  N       |      N      | updatetime    |
| 9. version                 | Integer          |  N       |      N      |      |
| 10. que_category           | **DIC_TYPE**     |  N       |      N      |      |
| 11. content                | Varchar(512)     |  N       |      N      |      |
| 12. customize              | Boolean          |  N       |      N      |      |
| 13. que_disease            | **DIC_TYPE**     |  N       |      N      |      |
| 14. que_type               | **DIC_TYPE**     |  N       |      N      |      |

#### Table: question_term

| 字段名                      | 类型      　　　   | 主键      |     含义　　 | 备注 |
| -------------              |:-------------:    | :-----:  |  :----:      |:----:|
| 1. que_id                  | Integer          |  N       |      N      |      | 
| 2. que_version             | Integer          |  N       |      N      |      |
| 3. term_code               | Integer          |  N       |      N      |      |
| 4. term_dicversion         | Integer          |  N       |      N      |      |
| 5. term_name               | Varchar(1000)    |  N       |      N      |      |

```
FOREIGN KEY (que_id, que_version) REFERENCES public.question (que_id, que_version)
FOREIGN KEY (term_code, term_dicversion, term_name) REFERENCES public.com_term (code, dicversion, name)
```

#### Table: questionanswer

| 字段名                      | 类型      　　　   | 主键      |     含义　　 | 备注 |
| -------------              |:-------------:    | :-----:  |  :----:      |:----:|
| 1. id                      | Integer          |  N       |      Y      |      | 
| 2. availability            | Varchar(255)     |  N       |      N      |      |
| 3. comments                | Varchar(255)     |  N       |      N      |      |
| 4. ctime                   | Timestamp        |  N       |      N      | createtime     |
| 5. owner                   | Varchar(255)     |  N       |      N      |      |
| 6. scope                   | Varchar(255)     |  N       |      N      |      |
| 7. utime                   | Timestamp        |  N       |      N      | updatetime     |
| 8. version                 | Integer          |  N       |      N      |      |
| 9. stranswers              | Varchar(1024)    |  N       |      N      |      |
| 10. followuprecord_id      | Integer          |  N       |      N      |      |
| 11. que_id                 | Integer          |  N       |      N      |      |
| 12. que_version            | Integer          |  N       |      N      |      |
| 13. term_code              | Integer          |  N       |      N      |      |
| 14. term_dicversion        | Integer          |  N       |      N      |      |
| 15. term_name              | Varchar(1000)    |  N       |      N      |      |

```
FOREIGN KEY (term_code, term_dicversion, term_name) REFERENCES public.com_term (code, dicversion, name)
FOREIGN KEY (que_id, que_version) REFERENCES public.question (que_id, que_version)
FOREIGN KEY (followuprecord_id) REFERENCES public.followuprecord (id)
```

#### Table: questionnaire

| 字段名                      | 类型      　　　   | 主键      |     含义　　 | 备注 |
| -------------              |:-------------:    | :-----:  |  :----:      |:----:|
| 1. id                      | Integer          |  N       |      Y      |      | 
| 2. availability            | Varchar(255)     |  N       |      N      |      |
| 3. comments                | Varchar(255)     |  N       |      N      |      |
| 4. ctime                   | Timestamp        |  N       |      N      | createtime     |
| 5. owner                   | Varchar(255)     |  N       |      N      |      |
| 6. scope                   | Varchar(255)     |  N       |      N      |      |
| 7. utime                   | Timestamp        |  N       |      N      | updatetime     |
| 8. version                 | Integer          |  N       |      N      |      |
| 9. disease                 | **KV_TYPE**      |  N       |      N      |      |
| 9. name                    | Varchar(128)     |  N       |      N      |      |
| 9. sumary                  | Varchar(1024)    |  N       |      N      |      |
| 9. title                   | Varchar(255)     |  N       |      N      |      |
| 9. type                    | **KV_TYPE**      |  N       |      N      |      |
| 9. org_id                  | Integer          |  N       |      N      |      |

```
FOREIGN KEY (org_id) REFERENCES public.com_org (id)
```

#### Table: questionnaire_question

| 字段名                      | 类型      　　　   | 主键      |     含义　　 | 备注 |
| -------------              |:-------------:    | :-----:  |  :----:      |:----:|
| 1. questionnaire_id        | Integer          |  N       |      N      |      | 
| 2. que_id                  | Integer          |  N       |      N      |      |
| 3. que_version             | Integer          |  N       |      N      |      |

```
FOREIGN KEY (que_id, que_version) REFERENCES public.question (que_id, que_version)
FOREIGN KEY (questionnaire_id) REFERENCES public.questionnaire (id)
```

#### Table: questionnairestyle

| 字段名                      | 类型      　　　   | 主键      |     含义　　 | 备注 |
| -------------              |:-------------:    | :-----:  |  :----:      |:----:|
| 1. id                      | Integer          |  Y       |      N      |      | 
| 2. availability            | Varchar(255)     |  N       |      N      |      |
| 3. comments                | Varchar(255)     |  N       |      N      |      |
| 4. ctime                   | Timestamp        |  N       |      N      | createtime     |
| 5. owner                   | Varchar(255)     |  N       |      N      |      |
| 6. scope                   | Varchar(255)     |  N       |      N      |      |
| 7. utime                   | Timestamp        |  N       |      N      | updatetime     |
| 8. version                 | Integer          |  N       |      N      |      |
| 9. name                    | Varchar(128)     |  N       |      N      |      |
| 10. style                  | Varchar(2048)    |  N       |      N      |      |
